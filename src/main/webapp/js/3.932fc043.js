(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"297f":function(t,e,n){"use strict";var a=n("2b0e"),i=n("2fe1"),r=n("4bb5"),o=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),s=function(t,e,n,a){var i,r=arguments.length,o=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},c=Object(r["a"])("LoginModule"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),s([c.Mutation("setVisible")],e.prototype,"setVisible",void 0),s([c.Mutation("setLoginned")],e.prototype,"setLoginned",void 0),s([c.Mutation("setResponseUser")],e.prototype,"setResponseUser",void 0),s([c.Mutation("setAuth")],e.prototype,"setAuth",void 0),s([c.Mutation("setClientConfig")],e.prototype,"setClientConfig",void 0),s([c.Getter("getVisible")],e.prototype,"windowVisible",void 0),s([c.Getter("getLoginned")],e.prototype,"loginned",void 0),s([c.Getter("getResponseUser")],e.prototype,"responseUser",void 0),s([c.Getter("getAuth")],e.prototype,"auth",void 0),s([c.Getter("getClientConfig")],e.prototype,"clientConfig",void 0),e=s([i["b"]],e),e}(a["a"]);e["a"]=l},"8b24":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"row items-center justify-evenly"},[n("Main")],1)},i=[],r=n("60a3"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"flex bg-white",staticStyle:{width:"100%",height:"100%"}},[n("q-dialog",{on:{hide:t.hideLoginForm},model:{value:t.isLoginVisible,callback:function(e){t.isLoginVisible=e},expression:"isLoginVisible"}},[n("login-form")],1),n("q-card",{staticClass:"bg-white my-card text-black",staticStyle:{width:"100%"},attrs:{dark:"",bordered:""}},[n("q-card-section",[n("q-separator",{attrs:{dark:"",inset:""}}),n("q-card-section",[n("q-card",[n("q-card-section",[n("div",{staticClass:"text-h6 text-black"},[t._v("Для начала анализа загрузите вашу публикацию.")]),n("div",{staticClass:"text-subtitle2 text-black"},[t._v("Разрешённые типы документов:")]),n("div",{staticClass:"text-subtitle2 text-black"},[t._v(".doc .docx .pdf")]),n("q-file",{attrs:{filled:"","bottom-slots":"",multiple:"",label:"Публикация",counter:"","max-files":"1"},scopedSlots:t._u([{key:"before",fn:function(){return[n("q-icon",{attrs:{name:"folder_open"}})]},proxy:!0},{key:"hint",fn:function(){return[t._v("Выберите публикацию для анализа")]},proxy:!0},{key:"append",fn:function(){return[n("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"add"},on:{click:function(t){t.stopPropagation()}}})]},proxy:!0}]),model:{value:t.files,callback:function(e){t.files=e},expression:"files"}})],1),n("q-card-section",[n("q-btn",{staticClass:"bg-indigo text-white",attrs:{flat:"",label:"Анализ"},on:{click:function(e){return e.stopPropagation(),t.setVisibleContent(e)}}},[n("q-tooltip",{attrs:{"content-class":"bg-indigo","content-style":"font-size: 16px",offset:[10,10]}},[t._v("Анализировать публикацию и получить рекомендации")])],1)],1),n("q-slide-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}]},[n("q-separator",{attrs:{dark:"",inset:""}}),t.visible&&this.files?n("Recommendation",{attrs:{files:this.files},on:{"update:files":function(e){return t.$set(this,"files",e)}}}):t._e()],1)])],1)],1)],1)],1)],1)},s=[],c=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),l=function(t,e,n,a){var i,r=arguments.length,o=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},u=function(t,e,n,a){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):i(t.value).then(o,s)}c((a=a.apply(t,e||[])).next())}))},p=function(t,e){var n,a,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,a&&(i=2&r[0]?a["return"]:r[0]?a["throw"]||((i=a["return"])&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,a=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(s){r=[6,s],a=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.getActualityRequest=function(t){return u(this,void 0,Promise,(function(){var e,n;return p(this,(function(a){switch(a.label){case 0:return e=new FormData,e.append("classes",JSON.stringify(t)),[4,this.$axios.post("/api/actuality/analyze",e)];case 1:return n=a.sent(),[2,n.data]}}))}))},e.prototype.classesAnalyseRequest=function(t,e){return u(this,void 0,Promise,(function(){var n,a;return p(this,(function(i){switch(i.label){case 0:return n=new FormData,n.append("analyseResponse",JSON.stringify(t.yakeResponse)),n.append("articleId",e.toString()),[4,this.$axios.post("/classes/analyse",n)];case 1:return a=i.sent(),[2,a.data]}}))}))},e.prototype.sendToNlp=function(t){return u(this,void 0,Promise,(function(){var e,n;return p(this,(function(a){switch(a.label){case 0:return e=new FormData,e.append("yakeData",JSON.stringify(t)),[4,this.$axios.post("/nlp/analyse",e)];case 1:return n=a.sent(),[2,n.data]}}))}))},e.prototype.sendAndAnalyse=function(t){return u(this,void 0,Promise,(function(){var e,n;return p(this,(function(a){switch(a.label){case 0:return e=new FormData,t.files&&t.files.forEach((function(t){e.append("files",t)})),[4,this.$axios.post("/files/analyze",this.createFormDataForArticleFile(t,e),{headers:{"Content-Type":"multipart/form-data"}})];case 1:return n=a.sent(),[2,n.data]}}))}))},e.prototype.sendRequestToYandexFromServer=function(){return u(this,void 0,Promise,(function(){var t;return p(this,(function(e){switch(e.label){case 0:return[4,this.$axios.get("/yandex/search_count")];case 1:return t=e.sent(),[2,t.data]}}))}))},e.prototype.sendTextAndAnalyse=function(t){return u(this,void 0,Promise,(function(){var e,n;return p(this,(function(a){switch(a.label){case 0:return e=new FormData,e.append("language",t.language),e.append("max_ngram_size",t.maxNgramSize.toString()),e.append("deduplication_thresold",t.deduplicationThresold.toString()),e.append("deduplication_algo",t.deduplicationAlgo.toString()),e.append("windowSize",t.windowSize.toString()),e.append("number_of_keywords",t.numberOfKeywords.toString()),e.append("text",t.text),[4,this.$axios.post("/yake/analyze",e)];case 1:return n=a.sent(),[2,n.data]}}))}))},e.prototype.saveResultRequest=function(t,e,n){return u(this,void 0,Promise,(function(){var a,i;return p(this,(function(r){switch(r.label){case 0:return a=new FormData,a.append("analyseResponse",JSON.stringify(t.yakeResponse)),a.append("classes",JSON.stringify(n)),this.createFormDataForArticleFile(e,a),e.files&&e.files.forEach((function(t){a.append("files",t)})),[4,this.$axios.post("/yake/saveResultEntity",a)];case 1:return i=r.sent(),200===i.status?[2,i.data]:[2,null]}}))}))},e.prototype.actualityAnalyseRequest=function(t){return u(this,void 0,Promise,(function(){var e,n;return p(this,(function(a){switch(a.label){case 0:return e=new FormData,e.append("analyseResponse",JSON.stringify(t)),[4,this.$axios.post("/actuality/analyse",e)];case 1:return n=a.sent(),n.data||console.log("notify"),[2,n.data]}}))}))},e.prototype.createFormDataForArticleFile=function(t,e){return e.append("language",t.meta.language),e.append("max_ngram_size",t.meta.maxNgramSize.toString()),e.append("deduplication_thresold",t.meta.deduplicationThresold.toString()),e.append("deduplication_algo",t.meta.deduplicationAlgo.toString()),e.append("windowSize",t.meta.windowSize.toString()),e.append("number_of_keywords",t.meta.numberOfKeywords.toString()),e.append("text",t.meta.text),e},e.prototype.loadSavedResults=function(t){return u(this,void 0,Promise,(function(){var e,n;return p(this,(function(a){switch(a.label){case 0:return e=new FormData,e.append("yakeId",t.toString()),[4,this.$axios.post("/yake/response",e)];case 1:return n=a.sent(),[2,n.data]}}))}))},e=l([r["a"]],e),e}(r["d"]),f=d,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("q-stepper",{ref:"stepper",attrs:{"done-color":"green","active-color":"purple","inactive-color":"indigo",id:"publication-analyse-stepper"},scopedSlots:t._u([{key:"message",fn:function(){return[1===t.step?n("q-banner",{staticClass:"bg-indigo text-white q-px-lg"},[t._v("Сохраняем вашу публикацию...")]):t._e(),2===t.step?n("q-banner",{staticClass:"bg-indigo text-white q-px-lg"},[t._v("Подгатавливаем текст публикации для более точного анализа...")]):t._e(),3===t.step?n("q-banner",{staticClass:"bg-indigo text-white q-px-lg"},[t._v("Анализируем текст публикации...")]):t._e(),4===t.step?n("q-banner",{staticClass:"bg-indigo text-white q-px-lg"},[t._v("Фильтруем результаты анализа...")]):t._e(),5===t.step?n("q-banner",{staticClass:"bg-indigo text-white q-px-lg"},[t._v("Формируем рекомендации, для повышения актуальности публикации...")]):t._e(),6===t.step?n("q-banner",{staticClass:"bg-green text-white q-px-lg"},[t._v("Готово!\nПросмотрите рекоммендации, оцените их точность и полезность.")]):t._e()]},proxy:!0}]),model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[n("q-step",{attrs:{name:1,title:"Сохранение публикации",icon:"settings",done:t.step>1}}),n("q-step",{attrs:{name:2,title:"Подготовка публикации к анализу",icon:"settings",done:t.step>2}}),n("q-step",{attrs:{name:3,title:"Анализ текста",icon:"settings",done:t.step>3}}),n("q-step",{attrs:{name:4,title:"Фильтрация результатов",icon:"settings",done:t.step>4}}),n("q-step",{attrs:{name:5,title:"Формирование рекомендаций",icon:"settings",done:t.step>5}}),n("q-step",{attrs:{name:6,title:"Завершение",icon:"settings",done:t.step>6}})],1),n("q-card-section",[6===t.step&&this.clientConfig&&this.clientConfig.clientUiConfig&&this.clientConfig.clientUiConfig.withAnalyseInfoDisplay?n("q-btn",{staticClass:"bg-indigo text-white",staticStyle:{float:"right"},attrs:{flat:"",label:"Результаты анализа"},on:{click:function(e){t.dialog=!0}}}):t._e(),6===t.step&&this.clientConfig&&this.clientConfig.clientUiConfig&&this.clientConfig.clientUiConfig.withCertificateGeneration?n("q-btn",{staticClass:"bg-indigo text-white",staticStyle:{float:"right","margin-right":"10px"},attrs:{flat:"",label:"Получить сертификат"},on:{click:t.getCertificate}}):t._e(),n("div",{staticClass:"text-h6 text-black"},[t._v(t._s(t.currentStatusText))]),n("div",{staticClass:"text-subtitle2 text-black"},[t._v(t._s(t.currentStatusTextDescription))]),n("div",{staticClass:"q-gutter-md row"},[t._l(3,(function(e){return 6!==t.step?n("q-intersection",{key:e,staticClass:"example-item",attrs:{transition:"scale"}},[n("q-card",{staticStyle:{width:"400px"}},[n("q-item",[n("q-item-section",[n("q-item-label",[n("q-skeleton",{attrs:{type:"text"}})],1),n("q-item-label",{attrs:{caption:""}},[n("q-skeleton",{attrs:{type:"text"}})],1)],1)],1),n("q-skeleton",{attrs:{height:"100px",square:""}}),n("q-card-actions",{staticClass:"q-gutter-md",attrs:{align:"right"}},[n("q-skeleton",{attrs:{type:"QBtn"}}),n("q-skeleton",{attrs:{type:"QBtn"}})],1)],1)],1):t._e()})),6===t.step?n("InnerRecommendation"):t._e(),6===t.step?n("RecommendationSettings",{attrs:{dialog:t.dialog},on:{"update:dialog":function(e){t.dialog=e}}}):t._e()],2)],1)],1)},h=[],g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-pa-md row items-start q-gutter-md"},[n("q-card",{staticClass:"recommendation-card-width"},[n("q-card-section",{staticClass:"bg-grey-4 text-black"},[n("div",{staticClass:"text-h6"},[t._v("Общие рекоммендации по увеличению актуальности")]),n("div",{staticClass:"text-subtitle2"},[t._v("Предложения для правок в тексте")])]),n("q-card-section",[n("q-chip",{staticClass:"bg-indigo-5",attrs:{square:"","text-color":"white","icon-right":"edit"}},[t._v("Внесите предложенные правки в ключевые слова")])],1),n("q-card-section",[n("div",{staticClass:"text-subtitle2"},[t._v("Не вносите в текст следующие ключевые слова:")]),t._l(this.srecommendation.classKeywordPairMin,(function(e){return n("q-chip",{key:"i",staticClass:"bg-red-5",attrs:{square:"","icon-right":"remove","text-color":"white"}},[t._v(t._s(e.keyword))])}))],2),n("q-separator",{attrs:{inset:""}}),n("q-card-actions",[n("q-btn",{staticClass:"text-green-7",attrs:{flat:""}},[t._v("Принять")]),n("q-btn",{staticClass:"text-red-7",attrs:{flat:""}},[t._v("Отклонить")])],1)],1),n("q-card",{staticClass:"recommendation-card-width"},[n("q-card-section",{staticClass:"bg-grey-4 text-black"},[n("div",{staticClass:"text-h6"},[t._v("Рекоммендации по редактированию ключевых слов")]),n("div",{staticClass:"text-subtitle2"},[t._v("Ключевые слова")])]),n("q-card-section",t._l(this.srecommendation.classKeywordPairMax,(function(e){return n("q-chip",{key:"i",staticClass:"bg-green-5",attrs:{square:"","icon-right":"add","text-color":"white"}},[t._v(t._s(e.keyword))])})),1),n("q-separator",{attrs:{inset:""}}),n("q-card-actions",[n("q-btn",{staticClass:"text-green-7",attrs:{flat:""}},[t._v("Принять")]),n("q-btn",{staticClass:"text-red-7",attrs:{flat:""}},[t._v("Отклонить")])],1)],1),n("q-card",{staticClass:"recommendation-card-width"},[n("q-card-section",{staticClass:"bg-grey-4 text-black"},[n("div",{staticClass:"text-h6"},[t._v("Предполагаемые темы по ключевым словам текста статьи")]),n("div",{staticClass:"text-subtitle2"},[t._v("Ключевые слова")])]),n("q-card-section",t._l(this.srecommendation.classKeywordPairs,(function(e){return n("q-chip",{key:"i",attrs:{square:"","text-color":"white",color:"green"}},[t._v(t._s(e.cluster))])})),1),n("q-separator",{attrs:{dark:""}})],1),n("q-card",{staticClass:"recommendation-card-width"},[n("q-card-section",{staticClass:"bg-grey-4 text-black"},[n("div",{staticClass:"text-h6"},[t._v("Общая статистика")]),n("div",{staticClass:"text-subtitle2"},[t._v("Результаты анализа")])]),n("q-card-section",[this.srecommendation.actuality>50?n("q-chip",{staticClass:"bg-green-5",attrs:{square:"","text-color":"white","icon-right":"star"}},[t._v("Актуальность составляет "+t._s(this.srecommendation.actuality)+"%")]):n("q-chip",{attrs:{square:"",color:"yellow","text-color":"black","icon-right":"star"}},[t._v("Актуальность составляет "+t._s(this.srecommendation.actuality)+"%")])],1)],1)],1)},b=[],m=n("2b0e"),w=n("2fe1"),v=n("4bb5"),x=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),_=function(t,e,n,a){var i,r=arguments.length,o=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},q=Object(v["a"])("RecommendationModule"),C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return x(e,t),_([q.Mutation("setRecommendation")],e.prototype,"setRecommendation",void 0),_([q.Mutation("setYakeResponse")],e.prototype,"setYakeResponse",void 0),_([q.Getter("getRecommendation")],e.prototype,"recommendations",void 0),_([q.Getter("getYakeResponse")],e.prototype,"yakeResponseStore",void 0),e=_([w["b"]],e),e}(m["a"]),k=C,O=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),S=function(t,e,n,a){var i,r=arguments.length,o=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.srecommendation={payload:[],actuality:0,classKeywordPairMax:[{actuality:0,cluster:"",keyword:""}],classKeywordPairMin:[{actuality:0,cluster:"",keyword:""}],classKeywordPairs:[],classesActuality:[],keywordClassMax:""},e}return O(e,t),e.prototype.recommendationWatcher=function(){this.srecommendation=this.recommendations},e.prototype.removeDuplicates=function(){return this.srecommendation.classKeywordPairs.filter((function(t,e,n){return e===n.findIndex((function(e){return e.cluster===t.cluster}))}))},S([Object(r["e"])("recommendations")],e.prototype,"recommendationWatcher",null),e=S([r["a"]],e),e}(Object(r["b"])(k)),j=P,R=j,A=n("2877"),Q=n("f09f"),$=n("a370"),D=n("b047"),T=n("eb85"),z=n("4b7e"),F=n("9c40"),M=n("eebe"),K=n.n(M),L=Object(A["a"])(R,g,b,!1,null,null,null),N=L.exports;K()(L,"components",{QCard:Q["a"],QCardSection:$["a"],QChip:D["a"],QSeparator:T["a"],QCardActions:z["a"],QBtn:F["a"]});var V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-dialog",{attrs:{persistent:"",maximized:t.maximizedToggle,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.sDialog,callback:function(e){t.sDialog=e},expression:"sDialog"}},[n("q-card",{staticClass:"text-white bg-indigo"},[n("q-bar",[n("q-space"),n("q-btn",{attrs:{dense:"",flat:"",icon:"minimize",disable:!t.maximizedToggle},on:{click:function(e){t.maximizedToggle=!1}}},[t.maximizedToggle?n("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Minimize")]):t._e()],1),n("q-btn",{attrs:{dense:"",flat:"",icon:"crop_square",disable:t.maximizedToggle},on:{click:function(e){t.maximizedToggle=!0}}},[t.maximizedToggle?t._e():n("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Maximize")])],1),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[n("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Close")])],1)],1),n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("Техническая информация")])]),n("q-card-section",{staticClass:"q-gutter-md row"},[n("q-table",{staticStyle:{width:"500px"},attrs:{title:"Класс - актуальность",data:this.srecommendation.classesActuality,separator:t.separator,"virtual-scroll":"",columns:t.classActuality,"pagination.sync":"pagination","rows-per-page-options":[0],"row-key":"name"}}),n("q-table",{staticStyle:{width:"500px"},attrs:{title:"Ключевые слова, Классы, актуальность класса",data:this.srecommendation.classKeywordPairs,separator:t.separator,"virtual-scroll":"",columns:t.classKeyActuality,"pagination.sync":"pagination","rows-per-page-options":[0],"row-key":"keyword"}}),n("q-table",{staticStyle:{width:"700px"},attrs:{title:"Результаты анализа текста",data:this.yakeResponse.yakeResponse,separator:t.separator,"virtual-scroll":"",columns:t.yakeColumns,"pagination.sync":"pagination","rows-per-page-options":[0],"row-key":"ngram"}}),n("q-table",{staticStyle:{width:"700px"},attrs:{title:"Результаты фильтрации",data:this.srecommendation.payload,separator:t.separator,"virtual-scroll":"",columns:t.nlpPayloadColumns,"pagination.sync":"pagination","rows-per-page-options":[0],"row-key":"ngram"}})],1)],1)],1)},E=[],G=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),I=function(t,e,n,a){var i,r=arguments.length,o=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},U=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.separator="cell",e.srecommendation={actuality:0,payload:[{avg:0,isGood:0,ngram:"",value:0}],classKeywordPairMax:[{actuality:0,cluster:"",keyword:""}],classKeywordPairMin:[{actuality:0,cluster:"",keyword:""}],classKeywordPairs:[{actuality:0,cluster:"",keyword:""}],classesActuality:[{name:"",embedding:"",classActuality:0}],keywordClassMax:""},e.yakeResponse={yakeResponse:[{ngram:"",score:0}],generatedArticleId:0},e.maximizedToggle=!0,e.classKeyActuality=[{name:"keyword",label:"Ключевая фраза",field:"keyword",align:"center",style:"width: 10px"},{name:"actuality",label:"Актаульность",field:"actuality",align:"center",style:"width: 10px"}],e.classActuality=[{name:"name",label:"Класс",field:"name",align:"center",style:"width: 10px"},{name:"classActuality",label:"Актуальность",field:"classActuality",align:"center",style:"width: 10px"}],e.nlpPayloadColumns=[{name:"ngram",label:"Ключевая фраза",field:"ngram",align:"center",style:"width: 10px"},{name:"avg",label:"Среднее",field:"avg",align:"center",style:"width: 10px"},{name:"value",label:"Степень уверенности",field:"value",align:"center",style:"width: 10px"},{name:"isGood",label:"Прошёл фильтр",field:"isGood",align:"center",style:"width: 10px"}],e.yakeColumns=[{name:"ngram",label:"Ключевая фраза",field:"ngram",align:"center",style:"width: 10px"},{name:"score",label:"Важность",field:"score",align:"center",style:"width: 10px"}],e}return G(e,t),e.prototype.mounted=function(){this.yakeResponse=this.yakeResponseStore},e.prototype.recommendationWatcher=function(){this.srecommendation=this.recommendations},I([Object(r["c"])("dialog",{type:Boolean})],e.prototype,"sDialog",void 0),I([Object(r["e"])("recommendations")],e.prototype,"recommendationWatcher",null),e=I([r["a"]],e),e}(Object(r["b"])(k)),B=U,J=B,W=n("24e8"),Y=n("d847"),H=n("2c91"),X=n("05c0"),Z=n("eaac"),tt=n("7f67"),et=Object(A["a"])(J,V,E,!1,null,null,null),nt=et.exports;K()(et,"components",{QDialog:W["a"],QCard:Q["a"],QBar:Y["a"],QSpace:H["a"],QBtn:F["a"],QTooltip:X["a"],QCardSection:$["a"],QTable:Z["a"]}),K()(et,"directives",{ClosePopup:tt["a"]});var at=n("ddaf"),it=n("297f"),rt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ot=function(t,e,n,a){var i,r=arguments.length,o=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},st=function(t,e,n,a){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):i(t.value).then(o,s)}c((a=a.apply(t,e||[])).next())}))},ct=function(t,e){var n,a,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,a&&(i=2&r[0]?a["return"]:r[0]?a["throw"]||((i=a["return"])&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,a=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(s){r=[6,s],a=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},lt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentStatusText="Анализ публикации...",e.currentStatusTextDescription="Пожалуйста дождитесь окончания анализа вашей публикации.",e.step=1,e.dialog=!1,e.articleFile={files:null,meta:{language:"ru",maxNgramSize:3,deduplicationThresold:1,deduplicationAlgo:"leve",windowSize:1,numberOfKeywords:20,text:""}},e.data={yakeResponse:[{ngram:"",score:0}],generatedArticleId:0},e.recomendation={payload:[],actuality:0,classKeywordPairMax:[{actuality:0,cluster:"",keyword:""}],classKeywordPairMin:[{actuality:0,cluster:"",keyword:""}],classKeywordPairs:[],classesActuality:[],keywordClassMax:""},e}return rt(e,t),e.prototype.stepWatcher=function(){6===this.step&&(this.currentStatusText="Просмотрите полученные рекоммендации.",this.currentStatusTextDescription="Пожалуйста выберите Принять / Отклонить. Это необходимо для сбора статистики для улучшения качества и точности рекомендаций в дальнейшем.")},e.prototype.socketMessageReceive=function(){console.log(this.step),console.log(this.getMessage),this.$refs.stepper.goTo(++this.getMessage)},e.prototype.mounted=function(){return st(this,void 0,Promise,(function(){var t;return ct(this,(function(e){switch(e.label){case 0:return this.isConnected?this.articleFile?(this.articleFile.files=this.sFiles,t=this,[4,this.sendAndAnalyse(this.articleFile)]):[3,2]:[3,3];case 1:t.recomendation=e.sent(),this.setRecommendation(this.recomendation),e.label=2;case 2:return[3,4];case 3:this.$q.notify({type:"negative",progress:!0,message:"Подключение к сервисам платформы не удалось. Попробуйте обновить страницу"}),e.label=4;case 4:return[2]}}))}))},e.prototype.getCertificate=function(){window.location.replace("api/document")},ot([Object(r["c"])("files")],e.prototype,"sFiles",void 0),ot([Object(r["e"])("step")],e.prototype,"stepWatcher",null),ot([Object(r["e"])("getMessage")],e.prototype,"socketMessageReceive",null),e=ot([Object(r["a"])({components:{InnerRecommendation:N,RecommendationSettings:nt}})],e),e}(Object(r["b"])(f,k,at["a"],it["a"])),ut=lt,pt=ut,dt=n("f531"),ft=n("87fe"),yt=n("54e1"),ht=n("ad56"),gt=n("66e5"),bt=n("4074"),mt=n("0170"),wt=n("293e"),vt=Object(A["a"])(pt,y,h,!1,null,null,null),xt=vt.exports;K()(vt,"components",{QStepper:dt["a"],QStep:ft["a"],QBanner:yt["a"],QCardSection:$["a"],QBtn:F["a"],QIntersection:ht["a"],QCard:Q["a"],QItem:gt["a"],QItemSection:bt["a"],QItemLabel:mt["a"],QSkeleton:wt["a"],QCardActions:z["a"]});var _t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",{staticClass:"text-black",staticStyle:{width:"300px"}},[n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("Авторизация")])]),n("q-card-section",[n("q-input",{attrs:{filled:"",label:"Логин",type:"text"},model:{value:t.userCredentials.login,callback:function(e){t.$set(t.userCredentials,"login",e)},expression:"userCredentials.login"}}),!t.$v.userCredentials.login.required&&t.$v.userCredentials.login.$params.required?n("span",{staticClass:"text-red-10 error-label"},[t._v("Обязательно")]):t._e()],1),n("q-card-section",[n("q-input",{attrs:{filled:"",label:"Пароль",type:"password"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.authorizeUser(e)}},model:{value:t.userCredentials.password,callback:function(e){t.$set(t.userCredentials,"password",e)},expression:"userCredentials.password"}}),!t.$v.userCredentials.password.required&&t.$v.userCredentials.password.$params.required?n("span",{staticClass:"text-red-10 error-label"},[t._v("Обязательно")]):t._e()],1),n("q-card-actions",{staticClass:"bg-white text-black",attrs:{align:"right"}},[n("q-btn",{attrs:{flat:"",label:"OK"},on:{click:t.authorizeUser}})],1)],1)},qt=[],Ct=n("1dce"),kt=n("b5ae"),Ot={userCredentials:{login:{required:kt["required"]},password:{required:kt["required"]}}},St=n("25d1"),Pt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),jt=function(t,e,n,a){var i,r=arguments.length,o=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Rt=function(t,e,n,a){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(a.next(t))}catch(e){r(e)}}function s(t){try{c(a["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):i(t.value).then(o,s)}c((a=a.apply(t,e||[])).next())}))},At=function(t,e){var n,a,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,a&&(i=2&r[0]?a["return"]:r[0]?a["throw"]||((i=a["return"])&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,a=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(s){r=[6,s],a=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Qt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.userCredentials={login:"",password:""},e}return Pt(e,t),e.prototype.authorizeUser=function(){return Rt(this,void 0,Promise,(function(){var t,e,n,a=this;return At(this,(function(i){switch(i.label){case 0:return this.$v.$touch(),this.$store.state.windowVisible=!1,this.$v.$anyError?[3,6]:(t=new FormData,t.append("login",this.userCredentials.login),t.append("password",this.userCredentials.password),[4,this.$axios.post("/auth",t)]);case 1:switch(e=i.sent(),n=e.status,n){case 200:return[3,2];case 400:return[3,4]}return[3,5];case 2:return this.$q.localStorage.set("isLogged",!0),this.$q.localStorage.set("user",e.data.user),this.setLoginned(!0),this.setResponseUser(e.data.user),this.setAuth(e.data),this.setClientConfig(e.data.baseClientConfig),this.setVisible(!1),[4,this.doRoute()];case 3:return i.sent(),[3,5];case 4:e.data.errorsToClient.forEach((function(t){a.$q.notify({color:"negative",message:t.message,caption:t.errorName,icon:"report_problem",progress:!0,position:"bottom"})})),i.label=5;case 5:return[3,7];case 6:this.setLoginned(!1),this.$q.notify({color:"negative",message:"Поля не заполнены",icon:"report_problem",progress:!0,position:"bottom"}),i.label=7;case 7:return[2]}}))}))},e.prototype.doRoute=function(){return Rt(this,void 0,Promise,(function(){return At(this,(function(t){switch(t.label){case 0:return"main"===this.$route.name?[3,2]:[4,this.$router.push({name:"main"})];case 1:return t.sent(),[3,3];case 2:this.$router.go(0),t.label=3;case 3:return[2]}}))}))},e=jt([Object(r["a"])({mixins:[Ct["validationMixin"]],validations:Ot})],e),e}(Object(r["b"])(it["a"],St["a"])),$t=Qt,Dt=$t,Tt=n("27f9"),zt=Object(A["a"])(Dt,_t,qt,!1,null,null,null),Ft=zt.exports;K()(zt,"components",{QCard:Q["a"],QCardSection:$["a"],QInput:Tt["a"],QCardActions:z["a"],QBtn:F["a"]});var Mt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Kt=function(t,e,n,a){var i,r=arguments.length,o=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Lt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.visible=!1,e.files=null,e.isLoginVisible=!1,e.a=[{name:"cluster",label:"Класс",field:"cluster",align:"center",style:"width: 10px"},{name:"keyword",label:"Ключевая фраза",field:"keyword",align:"center",style:"width: 10px"},{name:"actuality",label:"Актаульность",field:"actuality",align:"center",style:"width: 10px"}],e.b=[{name:"name",label:"Класс",field:"name",align:"center",style:"width: 10px"},{name:"classActuality",label:"Актуальность",field:"classActuality",align:"center",style:"width: 10px"}],e.classColumns=[{name:"className",label:"Имя класса",field:"className",align:"center",style:"width: 10px"},{name:"actuality",label:"Вес класса",field:"actuality",align:"center",style:"width: 10px"},{name:"keywordText",label:"Ключевое слово",field:"keywordText",align:"center",style:"width: 10px"}],e.classes=[],e.articleFile={files:null,meta:{language:"ru",maxNgramSize:3,deduplicationThresold:1,deduplicationAlgo:"leve",windowSize:1,numberOfKeywords:20,text:""}},e}return Mt(e,t),e.prototype.void=function(){this.isLoginVisible=this.windowVisible},e.prototype.hideLoginForm=function(){this.setVisible(!1)},e.prototype.setVisibleContent=function(){this.files?this.visible=!0:this.$q.notify({icon:"warning",message:"Загрузите публикацию.",caption:"Для продолжения - загрузите публикацию.",color:"primary"})},Kt([Object(r["e"])("windowVisible")],e.prototype,"void",null),e=Kt([Object(r["a"])({components:{Recommendation:xt,LoginForm:Ft}})],e),e}(Object(r["b"])(f,it["a"])),Nt=Lt,Vt=Nt,Et=n("9989"),Gt=n("7d53"),It=n("0016"),Ut=n("e9c1"),Bt=Object(A["a"])(Vt,o,s,!1,null,null,null),Jt=Bt.exports;K()(Bt,"components",{QPage:Et["a"],QDialog:W["a"],QCard:Q["a"],QCardSection:$["a"],QSeparator:T["a"],QFile:Gt["a"],QIcon:It["a"],QBtn:F["a"],QTooltip:X["a"],QSlideTransition:Ut["a"]});var Wt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Yt=function(t,e,n,a){var i,r=arguments.length,o=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wt(e,t),e.prototype.mounted=function(){this.connect()},e=Yt([Object(r["a"])({components:{Main:Jt}})],e),e}(Object(r["b"])(St["a"],at["a"])),Xt=Ht,Zt=Xt,te=Object(A["a"])(Zt,a,i,!1,null,null,null);e["default"]=te.exports;K()(te,"components",{QPage:Et["a"]})}}]);