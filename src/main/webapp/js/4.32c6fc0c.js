(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"8b24":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"row items-center justify-evenly"},[n("ClassComponent")],1)},r=[],o=n("60a3"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-card",{staticStyle:{width:"100%",height:"100%",padding:"20px"}},[n("q-card-section",[n("q-stepper",{ref:"stepper",attrs:{color:"primary",animated:""},scopedSlots:e._u([{key:"navigation",fn:function(){return[n("q-stepper-navigation",[n("q-btn",{attrs:{color:"primary",label:4===e.step?"Получить рекомендации":"Следующий шаг"},on:{click:function(t){e.$refs.stepper.next(),e.nextHandler()}}}),e.step>1?n("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Назад"},on:{click:function(t){return e.$refs.stepper.previous()}}}):e._e()],1)]},proxy:!0},{key:"message",fn:function(){return[1===e.step?n("q-banner",{staticClass:"bg-purple-8 text-white q-px-lg"},[e._v("Загрузите публикацию")]):2===e.step?n("q-banner",{staticClass:"bg-orange-8 text-white q-px-lg"},[e._v("Определение параметров YAKE")]):3===e.step?n("q-banner",{staticClass:"bg-cyan-8 text-white q-px-lg"},[e._v("Определение ключевых слов")]):4===e.step?n("q-banner",{staticClass:"bg-green-8 text-white q-px-lg"},[e._v("Анализ актуальности")]):n("q-banner",{staticClass:"bg-blue-8 text-white q-px-lg"},[e._v("Рекомендации")])]},proxy:!0}]),model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[n("q-step",{staticStyle:{"min-height":"200px"},attrs:{name:1,title:"Загрузите публикацию",icon:"settings",done:e.step>1}},[n("q-file",{attrs:{filled:"","bottom-slots":"",label:"Публикация",counter:"","max-files":"12"},scopedSlots:e._u([{key:"before",fn:function(){return[n("q-icon",{attrs:{name:"folder_open"}})]},proxy:!0},{key:"hint",fn:function(){return[e._v("Выберите публикацию для анализа")]},proxy:!0},{key:"append",fn:function(){return[n("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"add"},on:{click:function(e){e.stopPropagation()}}})]},proxy:!0}]),model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),n("q-step",{staticStyle:{"min-height":"200px"},attrs:{name:2,caption:"не обязательно",title:"Определение параметров YAKE",icon:"assignment"}},[n("div",{staticClass:"q-pa-md"},[n("q-input",{attrs:{label:"language"},model:{value:e.articleFile.meta.language,callback:function(t){e.$set(e.articleFile.meta,"language",t)},expression:"articleFile.meta.language"}}),n("q-input",{attrs:{label:"maxNgramSize"},model:{value:e.articleFile.meta.maxNgramSize,callback:function(t){e.$set(e.articleFile.meta,"maxNgramSize",t)},expression:"articleFile.meta.maxNgramSize"}}),n("q-input",{attrs:{label:"deduplication_thresold"},model:{value:e.articleFile.meta.deduplicationThresold,callback:function(t){e.$set(e.articleFile.meta,"deduplicationThresold",t)},expression:"articleFile.meta.deduplicationThresold"}}),n("q-input",{attrs:{label:"deduplication_algo"},model:{value:e.articleFile.meta.deduplicationAlgo,callback:function(t){e.$set(e.articleFile.meta,"deduplicationAlgo",t)},expression:"articleFile.meta.deduplicationAlgo"}}),n("q-input",{attrs:{label:"windowSize"},model:{value:e.articleFile.meta.windowSize,callback:function(t){e.$set(e.articleFile.meta,"windowSize",t)},expression:"articleFile.meta.windowSize"}}),n("q-input",{attrs:{label:"numberOfKeywords"},model:{value:e.articleFile.meta.numberOfKeywords,callback:function(t){e.$set(e.articleFile.meta,"numberOfKeywords",t)},expression:"articleFile.meta.numberOfKeywords"}})],1)]),n("q-step",{staticStyle:{"min-height":"200px"},attrs:{name:3,title:"Определение ключевых слов",icon:"create_new_folder",done:e.step>2}},[n("q-btn",{attrs:{color:"green",disable:e.loading,label:"Добавить ключевое слово"},on:{click:e.addRow}}),n("q-btn",{attrs:{color:"green",disable:e.loading,label:"Сохранить результат"},on:{click:e.addRow}}),n("q-item",{staticClass:"q-item__label--header"}),n("q-table",{attrs:{title:"Ключевые слова",data:e.data,separator:e.separator,"virtual-scroll":"",columns:e.columns,loading:e.loading,"pagination.sync":"pagination","rows-per-page-options":[0],"row-key":"ngram"},scopedSlots:e._u([{key:"header",fn:function(t){return[n("q-tr",{attrs:{props:t}},[n("q-th",{attrs:{"auto-width":""}},[e._v("Удалить ключевое слово")]),e._l(t.cols,(function(a){return n("q-th",{key:a.name,attrs:{props:t}},[e._v(e._s(a.label))])}))],2)]}},{key:"body",fn:function(t){return[n("q-tr",{attrs:{props:t}},[n("q-td",{attrs:{"auto-width":""}},[n("q-btn",{attrs:{size:"sm",color:"red",dense:"",icon:"remove"},on:{click:function(e){t.expand=!t.expand}}})],1),n("q-td",{key:"ngram",attrs:{props:t}},[e._v(e._s(t.row.ngram)),n("q-popup-edit",{attrs:{title:"Редактировать ключевое слово",buttons:""},model:{value:t.row.ngram,callback:function(n){e.$set(t.row,"ngram",n)},expression:"props.row.ngram"}},[n("q-input",{attrs:{type:"text",dense:"",autofocus:""},model:{value:t.row.ngram,callback:function(n){e.$set(t.row,"ngram",n)},expression:"props.row.ngram"}})],1)],1),n("q-td",{key:"score",attrs:{props:t}},[e._v(e._s(t.row.score)),n("q-popup-edit",{attrs:{title:"Редактировать значение важности",buttons:""},model:{value:t.row.score,callback:function(n){e.$set(t.row,"score",n)},expression:"props.row.score"}},[n("q-input",{attrs:{type:"number",dense:"",autofocus:""},model:{value:t.row.score,callback:function(n){e.$set(t.row,"score",n)},expression:"props.row.score"}})],1)],1)],1)]}}])})],1),n("q-step",{staticStyle:{"min-height":"200px"},attrs:{name:4,title:"Анализ актуальности",icon:"assignment"}},[n("q-table",{attrs:{title:"Класс-актуальность",data:e.classes,separator:e.separator,"virtual-scroll":"",columns:e.classColumns,loading:e.loading,"pagination.sync":"pagination","rows-per-page-options":[0],"row-key":"ngram"}})],1),n("q-step",{staticStyle:{"min-height":"200px"},attrs:{name:5,title:"Рекомендации",icon:"add_comment"}},[e._v("Try out different ad text to see what brings in the most customers, and learn how to\nenhance your ads using features like ad extensions. If you run into any problems with\nyour ads, find out how to tell if they're running and how to resolve approval issues.")])],1)],1)],1)},l=[],s=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),c=function(e,t,n,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(i=(o<3?r(i):o>3?r(t,n,i):r(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},u=function(e,t,n,a){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function i(e){try{s(a.next(e))}catch(t){o(t)}}function l(e){try{s(a["throw"](e))}catch(t){o(t)}}function s(e){e.done?n(e.value):r(e.value).then(i,l)}s((a=a.apply(e,t||[])).next())}))},p=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(e){return function(t){return s([e,t])}}function s(o){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,a&&(r=2&o[0]?a["return"]:o[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(l){o=[6,l],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.sendAndAnalyse=function(e){return u(this,void 0,Promise,(function(){var t,n;return p(this,(function(a){switch(a.label){case 0:return t=new FormData,e.file&&t.append("file",e.file),[4,this.$axios.post("/api/files/analyze",this.createFormDataForArticleFile(e,t))];case 1:return n=a.sent(),[2,n.data]}}))}))},t.prototype.sendRequestToYandexFromServer=function(){return u(this,void 0,Promise,(function(){var e;return p(this,(function(t){switch(t.label){case 0:return[4,this.$axios.get("/api/yandex/search_count")];case 1:return e=t.sent(),[2,e.data]}}))}))},t.prototype.sendTextAndAnalyse=function(e){return u(this,void 0,Promise,(function(){var t,n;return p(this,(function(a){switch(a.label){case 0:return t=new FormData,t.append("language",e.language),t.append("max_ngram_size",e.maxNgramSize.toString()),t.append("deduplication_thresold",e.deduplicationThresold.toString()),t.append("deduplication_algo",e.deduplicationAlgo.toString()),t.append("windowSize",e.windowSize.toString()),t.append("number_of_keywords",e.numberOfKeywords.toString()),t.append("text",e.text),[4,this.$axios.post("/api/yake/analyze",t)];case 1:return n=a.sent(),[2,n.data]}}))}))},t.prototype.saveResultRequest=function(e,t){return u(this,void 0,Promise,(function(){var n,a;return p(this,(function(r){switch(r.label){case 0:return n=new FormData,n.append("analyseResponse",JSON.stringify(e)),this.createFormDataForArticleFile(t,n),t.file&&n.append("file",t.file),[4,this.$axios.post("/api/yake/saveResultEntity",n)];case 1:return a=r.sent(),a.status,console.log("notify"),[2]}}))}))},t.prototype.actualityAnalyseRequest=function(e){return u(this,void 0,Promise,(function(){var t,n;return p(this,(function(a){switch(a.label){case 0:return t=new FormData,t.append("analyseResponse",JSON.stringify(e)),[4,this.$axios.post("/api/actuality/analyse",t)];case 1:return n=a.sent(),n.data||console.log("notify"),[2,n.data]}}))}))},t.prototype.createFormDataForArticleFile=function(e,t){return t.append("language",e.meta.language),t.append("max_ngram_size",e.meta.maxNgramSize.toString()),t.append("deduplication_thresold",e.meta.deduplicationThresold.toString()),t.append("deduplication_algo",e.meta.deduplicationAlgo.toString()),t.append("windowSize",e.meta.windowSize.toString()),t.append("number_of_keywords",e.meta.numberOfKeywords.toString()),t.append("text",e.meta.text),t},t.prototype.loadSavedResults=function(e){return u(this,void 0,Promise,(function(){var t,n;return p(this,(function(a){switch(a.label){case 0:return t=new FormData,t.append("yakeId",e.toString()),[4,this.$axios.post("/api/yake/response",t)];case 1:return n=a.sent(),[2,n.data]}}))}))},t=c([o["a"]],t),t}(o["c"]),f=d,h=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),m=function(){return m=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},m.apply(this,arguments)},y=function(e,t,n,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(i=(o<3?r(i):o>3?r(t,n,i):r(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},g=function(e,t,n,a){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function i(e){try{s(a.next(e))}catch(t){o(t)}}function l(e){try{s(a["throw"](e))}catch(t){o(t)}}function s(e){e.done?n(e.value):r(e.value).then(i,l)}s((a=a.apply(e,t||[])).next())}))},b=function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(e){return function(t){return s([e,t])}}function s(o){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,a&&(r=2&o[0]?a["return"]:o[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(l){o=[6,l],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},w=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,l=o.length;i<l;i++,r++)a[r]=o[i];return a},v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.file=null,t.separator="cell",t.pagination={rowsPerPage:0},t.step=1,t.articleFile={file:null,meta:{language:"ru",maxNgramSize:3,deduplicationThresold:1,deduplicationAlgo:"leve",windowSize:1,numberOfKeywords:10,text:""}},t.loading=!1,t.columns=[{name:"ngram",required:!0,label:"Ключевое слово",align:"center"},{name:"score",label:"Значение важности",field:"Значение важности",align:"center",style:"width: 10px"}],t.original=[{ngram:"Поле для заполнения",score:0}],t.data=[{ngram:"",score:0}],t.classColumns=[{name:"keywordText",required:!0,label:"Ключевое слово",align:"center"},{name:"className",label:"Класс",field:"Класс",align:"center",style:"width: 10px"}],t.classes=[{classId:0,keywordId:0,classWeight:0,className:"",keywordText:""}],t}return h(t,e),t.prototype.addRow=function(){this.loading=!0;var e=this.data.length+1,t=this.original,n=m({},t);this.data=w(this.data.slice(0,e),[n],this.data.slice(e)),this.loading=!1},t.prototype.nextHandler=function(){return g(this,void 0,Promise,(function(){var e,t,n;return b(this,(function(a){switch(a.label){case 0:switch(this.loading=!0,e=this.step,e){case 3:return[3,1];case 4:return[3,3]}return[3,5];case 1:return this.articleFile.file=this.file,t=this,[4,this.sendAndAnalyse(this.articleFile)];case 2:return t.data=a.sent(),[3,5];case 3:return n=this,[4,this.actualityAnalyseRequest(this.data)];case 4:return n.classes=a.sent(),[3,5];case 5:return this.loading=!1,[2]}}))}))},t.prototype.dataWatcher=function(){console.log(this.data)},y([Object(o["d"])("data")],t.prototype,"dataWatcher",null),t=y([o["a"]],t),t}(Object(o["b"])(f)),x=v,_=x,q=n("2877"),k=n("f09f"),S=n("a370"),O=n("f531"),F=n("87fe"),P=n("7d53"),j=n("0016"),A=n("9c40"),z=n("27f9"),R=n("66e5"),$=n("eaac"),C=n("bd08"),Q=n("357e"),T=n("db86"),N=n("42a1"),D=n("b19c"),K=n("54e1"),E=n("eebe"),I=n.n(E),J=Object(q["a"])(_,i,l,!1,null,null,null),W=J.exports;I()(J,"components",{QCard:k["a"],QCardSection:S["a"],QStepper:O["a"],QStep:F["a"],QFile:P["a"],QIcon:j["a"],QBtn:A["a"],QInput:z["a"],QItem:R["a"],QTable:$["a"],QTr:C["a"],QTh:Q["a"],QTd:T["a"],QPopupEdit:N["a"],QStepperNavigation:D["a"],QBanner:K["a"]});var Y=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),B=function(e,t,n,a){var r,o=arguments.length,i=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(i=(o<3?r(i):o>3?r(t,n,i):r(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Y(t,e),t=B([Object(o["a"])({components:{ClassComponent:W}})],t),t}(o["c"]),H=G,L=H,M=n("9989"),U=Object(q["a"])(L,a,r,!1,null,null,null);t["default"]=U.exports;I()(U,"components",{QPage:M["a"]})}}]);