(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"297f":function(t,e,n){"use strict";var o=n("2b0e"),i=n("2fe1"),r=n("4bb5"),s=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},c=Object(r["a"])("LoginModule"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),a([c.Mutation("setVisible")],e.prototype,"setVisible",void 0),a([c.Mutation("setLoginned")],e.prototype,"setLoginned",void 0),a([c.Mutation("setResponseUser")],e.prototype,"setResponseUser",void 0),a([c.Mutation("setAuth")],e.prototype,"setAuth",void 0),a([c.Mutation("setClientConfig")],e.prototype,"setClientConfig",void 0),a([c.Getter("getVisible")],e.prototype,"windowVisible",void 0),a([c.Getter("getLoginned")],e.prototype,"loginned",void 0),a([c.Getter("getResponseUser")],e.prototype,"responseUser",void 0),a([c.Getter("getAuth")],e.prototype,"auth",void 0),a([c.Getter("getClientConfig")],e.prototype,"clientConfig",void 0),e=a([i["b"]],e),e}(o["a"]);e["a"]=l},"713b":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-layout",{attrs:{view:"hHh lpR lFf"}},[n("q-header",{attrs:{elevated:""}},[n("q-toolbar",[n("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),n("q-toolbar-title",[t._v("Актуальность научных публикаций")]),n("div",{staticClass:"row q-ml-auto"},[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",{attrs:{size:"48px"}},[n("img",{attrs:{src:"https://ies.unitech-mo.ru/files/upload/tpl/logo.svg?1609842718"}})])],1)],1)],1),n("q-tabs",{attrs:{align:"left","inline-label":""}},[n("q-route-tab",{attrs:{to:"/",label:"Главная",icon:"star"}}),n("q-route-tab",{attrs:{to:"/about",label:"О системе",icon:"search"}})],1)],1),n("q-drawer",{attrs:{"content-class":"q-layout__section--marginal"},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[n("account"),n("span",{staticStyle:{position:"absolute",bottom:"0","font-size":"11px"}},[t._v(t._s(t.productVersion))])],1),n("q-page-container",[n("router-view")],1)],1)},i=[],r=n("60a3"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-list",{staticClass:"rounded-borders text-white",attrs:{bordered:""}},[!0===t.isLoginned?n("q-expansion-item",{staticClass:"bg-white text-black",scopedSlots:t._u([{key:"header",fn:function(){return[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",{attrs:{rounded:"",size:"48px"}},[n("img",{staticClass:"avatar",attrs:{src:t.avatar}})])],1),n("q-item-section",[n("q-item-label",[t._v(t._s(t.user.fio))]),n("q-item-label",{attrs:{caption:""}},[t._v(t._s(t.user.info))])],1)]},proxy:!0}],null,!1,3249548617)},[n("q-card",{staticClass:"bg-white text-amber-1"},[this.clientConfig&&this.clientConfig.clientUiConfig&&this.clientConfig.clientUiConfig.withSettings?n("q-btn",{staticClass:"bg-grey-3 text-black",staticStyle:{width:"100%"},attrs:{align:"left",icon:"settings",flat:"",label:"Параметры"},on:{click:t.showSettings}}):t._e(),this.clientConfig&&this.clientConfig.clientUiConfig&&this.clientConfig.clientUiConfig.withHistoryFile?n("q-btn",{staticClass:"bg-grey-3 text-black",staticStyle:{width:"100%"},attrs:{align:"left",icon:"history",flat:"",label:"История загрузок"},on:{click:t.showUploadHistory}}):t._e(),this.clientConfig&&this.clientConfig.clientUiConfig&&this.clientConfig.clientUiConfig.withMonitoring?n("q-btn",{staticClass:"bg-grey-3 text-black",staticStyle:{width:"100%"},attrs:{align:"left",icon:"visibility",flat:"",label:"Мониторинг"},on:{click:t.showMonitoring}}):t._e(),n("q-separator"),n("q-btn",{staticClass:"bg-grey-3 text-black",staticStyle:{width:"100%"},attrs:{align:"left",icon:"directions_run",flat:"",label:"Выход"},on:{click:t.logout}})],1)],1):n("q-btn",{staticClass:"bg-white text-black",staticStyle:{width:"100%"},attrs:{outline:""},on:{click:function(e){return t.setVisible(!0)}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",{attrs:{size:"48px"}},[n("img",{attrs:{src:"https://www.shareicon.net/data/512x512/2017/01/06/868320_people_512x512.png"}})])],1),n("q-item-section",[n("q-item-label",[t._v("Вход")])],1)],1)],1)},a=[],c=n("297f"),l=n("25d1"),u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),f=function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},p=function(t,e,n,o){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((o=o.apply(t,e||[])).next())}))},h=function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,o&&(i=2&r[0]?o["return"]:r[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLoginned=!1,e.user={response:"",id:0,pin:0,info:"",success:!0,fio:"",adminAuth:0,editorAuth:0,userType:0,firstAuth:0,email:"",allowed:0,avatar:""},e.avatar="https://www.shareicon.net/data/512x512/2017/01/06/868320_people_512x512.png",e}return u(e,t),e.prototype.isLoginnedAfterRequest=function(){this.isLoginned=this.loginned,this.isLoginned&&(this.user=this.responseUser,this.avatar="https://ies.unitech-mo.ru/img/avatar/"+this.user.id+"/"+this.user.avatar)},e.prototype.logout=function(){return p(this,void 0,Promise,(function(){var t,e;return h(this,(function(n){switch(n.label){case 0:return[4,this.$axios.post("/logout")];case 1:switch(t=n.sent(),e=t.status,e){case 200:return[3,2]}return[3,4];case 2:return this.$q.localStorage.remove("isLogged"),this.$q.localStorage.remove("user"),this.setLoginned(!1),this.setResponseUser(null),this.isLoginned=!1,this.user=null,this.setClientConfig(null),this.setAuth(null),[4,this.doRoute()];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))},e.prototype.created=function(){return p(this,void 0,Promise,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.$axios.post("/heartbeat")];case 1:return t.sent(),this.$q.localStorage.getItem("isLogged")?(this.isLoginned=this.$q.localStorage.getItem("isLogged"),this.$q.localStorage.getItem("user")?(this.user=this.$q.localStorage.getItem("user"),this.avatar="https://ies.unitech-mo.ru/img/avatar/"+this.user.id+"/"+this.user.avatar,this.isLoginned=!0):this.isLoginned=!1):(this.$q.localStorage.remove("isLogged"),this.$q.localStorage.remove("user"),this.setLoginned(!1),this.setResponseUser(null),this.isLoginned=!1,this.user=null),[2]}}))}))},e.prototype.showUploadHistory=function(){return p(this,void 0,Promise,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.$router.push({name:"fileHistory"})];case 1:return t.sent(),[2]}}))}))},e.prototype.showMonitoring=function(){return p(this,void 0,Promise,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.$router.push({name:"monitoring"})];case 1:return t.sent(),[2]}}))}))},e.prototype.showSettings=function(){return p(this,void 0,Promise,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.$router.push({name:"settings"})];case 1:return t.sent(),[2]}}))}))},e.prototype.doRoute=function(){return p(this,void 0,Promise,(function(){return h(this,(function(t){switch(t.label){case 0:return"main"===this.$route.name?[3,2]:[4,this.$router.push({name:"main"})];case 1:return t.sent(),[3,3];case 2:this.$router.go(0),t.label=3;case 3:return[2]}}))}))},f([Object(r["e"])("loginned")],e.prototype,"isLoginnedAfterRequest",null),e=f([r["a"]],e),e}(Object(r["b"])(c["a"],l["a"])),g=b,d=g,y=n("2877"),v=n("1c1c"),w=n("3b73"),m=n("4074"),_=n("cb32"),q=n("0170"),C=n("f09f"),x=n("9c40"),O=n("eb85"),S=n("eebe"),k=n.n(S),L=Object(y["a"])(d,s,a,!1,null,null,null),j=L.exports;k()(L,"components",{QList:v["a"],QExpansionItem:w["a"],QItemSection:m["a"],QAvatar:_["a"],QItemLabel:q["a"],QCard:C["a"],QBtn:x["a"],QSeparator:O["a"]});var P=n("ddaf"),R=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$=function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Q=function(t,e,n,o){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):i(t.value).then(s,a)}c((o=o.apply(t,e||[])).next())}))},A=function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,o&&(i=2&r[0]?o["return"]:r[0]?o["throw"]||((i=o["return"])&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},U=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.leftDrawerOpen=!0,e.productVersion="v3.0.6 alpha.",e.notifier=e.$q.notify({type:"ongoing",message:"Попытка подключения к сервисам...",position:"bottom-right"}),e}return R(e,t),e.prototype.connectionWatcher=function(){this.notifier({type:"positive",message:"Подключение установлено",timeout:1e3,position:"bottom-right"})},e.prototype.mounted=function(){return Q(this,void 0,Promise,(function(){var t;return A(this,(function(e){switch(e.label){case 0:return[4,this.$axios.post("/user/config")];case 1:return t=e.sent(),this.setClientConfig(t.data),[2]}}))}))},$([Object(r["e"])("isConnected")],e.prototype,"connectionWatcher",null),e=$([Object(r["a"])({components:{Account:j}})],e),e}(Object(r["b"])(l["a"],P["a"],c["a"])),D=U,M=D,I=n("4d5a"),T=n("e359"),G=n("65c6"),V=n("6ac5"),H=n("429b"),E=n("7867"),z=n("9404"),B=n("09e3"),F=Object(y["a"])(M,o,i,!1,null,null,null);e["default"]=F.exports;k()(F,"components",{QLayout:I["a"],QHeader:T["a"],QToolbar:G["a"],QBtn:x["a"],QToolbarTitle:V["a"],QItemSection:m["a"],QAvatar:_["a"],QTabs:H["a"],QRouteTab:E["a"],QDrawer:z["a"],QPageContainer:B["a"]})}}]);